<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Project Atomic</title>
  <subtitle>Tag: Vagrant</subtitle>
  <id>http://www.projectatomic.io/blog/</id>
  <link href="http://www.projectatomic.io/blog/"/>
  <link href="http://www.projectatomic.io/blog/tag/vagrant.xml" rel="self"/>
  <updated>2019-11-21T00:00:00+00:00</updated>
  <author>
    <name>Project Atomic. Sponsored by Red Hat, Inc.</name>
  </author>
  <entry>
    <title>Fedora Atomic March 15 Release</title>
    <link rel="alternate" href="http://www.projectatomic.io/blog/2017/03/fedora_atomic_2week_2/"/>
    <id>http://www.projectatomic.io/blog/2017/03/fedora_atomic_2week_2/</id>
    <published>2017-03-16T16:00:00+00:00</published>
    <updated>2021-10-07T14:03:16+00:00</updated>
    <author>
      <name>Josh Berkus</name>
    </author>
    <content type="html">&lt;p&gt;The latest Fedora Atomic Host update is now available via an OSTree commit:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Commit: 24d4499420ffb2cc49681020bbe5aa6780d780d2b811eab1f5ffea6446b5a4c5&lt;/li&gt;
&lt;li&gt;Version: 25.80&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As well as numerous package updates, this release fixes the &lt;a href="https://pagure.io/atomic-wg/issue/251"&gt;&lt;q&gt;space leak from false ref&lt;/q&gt;&lt;/a&gt; issue.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;This release contains the following changes since last release from
ba95a4665776b58d342ad9cc367111179f9b8fcf19c6606f8964a8ec1622cadc to
24d4499420ffb2cc49681020bbe5aa6780d780d2b811eab1f5ffea6446b5a4c5&lt;/p&gt;

&lt;p&gt;Upgraded:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;atomic-devmode 0.3.3-1.fc25 -&amp;gt; 0.3.6-1.fc25&lt;/li&gt;
&lt;li&gt;bind99-libs 9.9.9-4.P5.fc25 -&amp;gt; 9.9.9-4.P6.fc25&lt;/li&gt;
&lt;li&gt;bind99-license 9.9.9-4.P5.fc25 -&amp;gt; 9.9.9-4.P6.fc25&lt;/li&gt;
&lt;li&gt;cockpit-bridge 131-1.fc25 -&amp;gt; 134-1.fc25&lt;/li&gt;
&lt;li&gt;cockpit-docker 131-1.fc25 -&amp;gt; 134-1.fc25&lt;/li&gt;
&lt;li&gt;cockpit-networkmanager 131-1.fc25 -&amp;gt; 134-1.fc25&lt;/li&gt;
&lt;li&gt;cockpit-ostree 131-1.fc25 -&amp;gt; 134-1.fc25&lt;/li&gt;
&lt;li&gt;cockpit-system 131-1.fc25 -&amp;gt; 134-1.fc25&lt;/li&gt;
&lt;li&gt;container-selinux 2:2.6-1.fc25 -&amp;gt; 2:2.10-1.fc25&lt;/li&gt;
&lt;li&gt;coreutils 8.25-15.fc25 -&amp;gt; 8.25-16.fc25&lt;/li&gt;
&lt;li&gt;coreutils-common 8.25-15.fc25 -&amp;gt; 8.25-16.fc25&lt;/li&gt;
&lt;li&gt;fedora-repos 25-2 -&amp;gt; 25-3&lt;/li&gt;
&lt;li&gt;freetype 2.6.5-1.fc25 -&amp;gt; 2.6.5-3.fc25&lt;/li&gt;
&lt;li&gt;gnutls 3.5.9-2.fc25 -&amp;gt; 3.5.10-1.fc25&lt;/li&gt;
&lt;li&gt;gssproxy 0.6.1-2.fc25 -&amp;gt; 0.7.0-1.fc25&lt;/li&gt;
&lt;li&gt;kernel 4.9.12-200.fc25 -&amp;gt; 4.9.13-201.fc25&lt;/li&gt;
&lt;li&gt;kernel-core 4.9.12-200.fc25 -&amp;gt; 4.9.13-201.fc25&lt;/li&gt;
&lt;li&gt;kernel-modules 4.9.12-200.fc25 -&amp;gt; 4.9.13-201.fc25&lt;/li&gt;
&lt;li&gt;krb5-libs 1.14.4-4.fc25 -&amp;gt; 1.14.4-7.fc25&lt;/li&gt;
&lt;li&gt;libseccomp 2.3.1-1.fc25 -&amp;gt; 2.3.2-1.fc25&lt;/li&gt;
&lt;li&gt;libsss_idmap 1.14.2-2.fc25 -&amp;gt; 1.15.1-1.fc25&lt;/li&gt;
&lt;li&gt;libsss_nss_idmap 1.14.2-2.fc25 -&amp;gt; 1.15.1-1.fc25&lt;/li&gt;
&lt;li&gt;libsss_sudo 1.14.2-2.fc25 -&amp;gt; 1.15.1-1.fc25&lt;/li&gt;
&lt;li&gt;nss 3.28.1-1.3.fc25 -&amp;gt; 3.28.3-1.0.fc25&lt;/li&gt;
&lt;li&gt;nss-pem 1.0.2-2.fc25 -&amp;gt; 1.0.3-2.fc25&lt;/li&gt;
&lt;li&gt;nss-softokn 3.28.1-1.0.fc25 -&amp;gt; 3.28.3-1.1.fc25&lt;/li&gt;
&lt;li&gt;nss-softokn-freebl 3.28.1-1.0.fc25 -&amp;gt; 3.28.3-1.1.fc25&lt;/li&gt;
&lt;li&gt;nss-sysinit 3.28.1-1.3.fc25 -&amp;gt; 3.28.3-1.0.fc25&lt;/li&gt;
&lt;li&gt;nss-tools 3.28.1-1.3.fc25 -&amp;gt; 3.28.3-1.0.fc25&lt;/li&gt;
&lt;li&gt;nss-util 3.28.1-1.0.fc25 -&amp;gt; 3.28.3-1.0.fc25&lt;/li&gt;
&lt;li&gt;oci-systemd-hook 0.1.4-4.git15c2f48.fc25 -&amp;gt; 1:0.1.5-1.git16f7c8a.fc25&lt;/li&gt;
&lt;li&gt;openssh 7.4p1-3.fc25 -&amp;gt; 7.4p1-4.fc25&lt;/li&gt;
&lt;li&gt;openssh-clients 7.4p1-3.fc25 -&amp;gt; 7.4p1-4.fc25&lt;/li&gt;
&lt;li&gt;openssh-server 7.4p1-3.fc25 -&amp;gt; 7.4p1-4.fc25&lt;/li&gt;
&lt;li&gt;pcre 8.40-4.fc25 -&amp;gt; 8.40-5.fc25&lt;/li&gt;
&lt;li&gt;python3-rpm 4.13.0-6.fc25 -&amp;gt; 4.13.0.1-1.fc25&lt;/li&gt;
&lt;li&gt;python3-sssdconfig 1.14.2-2.fc25 -&amp;gt; 1.15.1-1.fc25&lt;/li&gt;
&lt;li&gt;rpm 4.13.0-6.fc25 -&amp;gt; 4.13.0.1-1.fc25&lt;/li&gt;
&lt;li&gt;rpm-build-libs 4.13.0-6.fc25 -&amp;gt; 4.13.0.1-1.fc25&lt;/li&gt;
&lt;li&gt;rpm-libs 4.13.0-6.fc25 -&amp;gt; 4.13.0.1-1.fc25&lt;/li&gt;
&lt;li&gt;rpm-plugin-selinux 4.13.0-6.fc25 -&amp;gt; 4.13.0.1-1.fc25&lt;/li&gt;
&lt;li&gt;screen 4.5.0-1.fc25 -&amp;gt; 4.5.1-1.fc25&lt;/li&gt;
&lt;li&gt;selinux-policy 3.13.1-225.10.fc25 -&amp;gt; 3.13.1-225.11.fc25&lt;/li&gt;
&lt;li&gt;selinux-policy-targeted 3.13.1-225.10.fc25 -&amp;gt; 3.13.1-225.11.fc25&lt;/li&gt;
&lt;li&gt;sssd-client 1.14.2-2.fc25 -&amp;gt; 1.15.1-1.fc25&lt;/li&gt;
&lt;li&gt;vim-minimal 2:8.0.347-2.fc25 -&amp;gt; 2:8.0.425-1.fc25&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Existing systems can be upgraded in place via e.g. &lt;code&gt;atomic host upgrade&lt;/code&gt; or
&lt;code&gt;atomic host deploy&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Corresponding image media for new installations can be downloaded from &lt;a href="https://getfedora.org/en/cloud/download/atomic.html"&gt;getfedora.org&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Respective signed CHECKSUM files can be found here:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://alt.fedoraproject.org/pub/alt/atomic/stable/Fedora-Atomic-25-20170228.0/Atomic/x86_64/iso/Fedora-Atomic-25-20170228.0-x86_64-CHECKSUM"&gt;ISO checksum&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://alt.fedoraproject.org/pub/alt/atomic/stable/Fedora-Atomic-25-20170228.0/CloudImages/x86_64/images/Fedora-CloudImages-25-20170228.0-x86_64-CHECKSUM"&gt;Cloud image checksum&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For direct download, the &lt;q&gt;latest&lt;/q&gt; targets are always available at the following URLs:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_iso_latest"&gt;Latest ISO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_qcow2_latest"&gt;Latest QCOW&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_raw_latest"&gt;Latest raw image&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_vagrant_libvirt_latest"&gt;Latest LibVirt VM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_vagrant_virtualbox_latest"&gt;Latest VirtualBox VM&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Filename fetching URLs for downloading to remote systems are available by querying the following links:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_iso_latest_filename"&gt;ISO&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_qcow2_latest_filename"&gt;QCOW&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_raw_latest_filename"&gt;raw&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_vagrant_libvirt_latest_filename"&gt;LibVirt&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://getfedora.org/atomic_vagrant_virtualbox_latest_filename"&gt;VirtualBox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For more information about the latest targets, please reference &lt;a href="https://fedoraproject.org/wiki/Cloud#Quick_Links"&gt;the Fedora
Cloud Wiki space&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The Vagrant Atlas page with the new atomic host:
* &lt;a href="https://atlas.hashicorp.com/fedora/boxes/"&gt;All Fedora boxes&lt;/a&gt;
* &lt;a href="https://atlas.hashicorp.com/fedora/boxes/25-atomic-host/versions/20170314"&gt;Fedora Atomic 25&lt;/a&gt;&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;vagrant init fedora/25-atomic-host; vagrant up
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;or, if you already have the box, to get the new one:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;vagrant box update --box fedora/25-atomic-host
&lt;/code&gt;&lt;/pre&gt;
</content>
  </entry>
  <entry>
    <title>Vagrant Service Manager 1.3.0 Released</title>
    <link rel="alternate" href="http://www.projectatomic.io/blog/2016/08/vagrant-service-manager-1-3-0-release/"/>
    <id>http://www.projectatomic.io/blog/2016/08/vagrant-service-manager-1-3-0-release/</id>
    <published>2016-08-16T12:54:00+00:00</published>
    <updated>2021-10-07T14:03:16+00:00</updated>
    <author>
      <name>Budh Ram Gurung</name>
    </author>
    <content type="html">&lt;p&gt;This version of &lt;a href="https://github.com/projectatomic/vagrant-service-manager"&gt;vagrant-service-manager&lt;/a&gt; introduces support for displaying Kubernetes configuration information. This enable users to access the Kubernetes server that runs inside ADB virtual machine from their host machine.&lt;/p&gt;

&lt;p&gt;This version also includes binary installation support for Kubernetes. This support is extended to users of the &lt;a href="http://developers.redhat.com/products/cdk/overview"&gt;Red Hat Container Development Kit&lt;/a&gt;. For information about client binary installation, see the previous release announcement &lt;a href="../../../../blog/2016/07/vagrant-service-manager-install-cli"&gt;&lt;q&gt;Client Binary Installation Now Included in the ADB&lt;/q&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The full list of features from this version are:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Configuration information for Kubernetes provided as part of the &lt;code&gt;env&lt;/code&gt; command&lt;/li&gt;
&lt;li&gt;Client binary installation support for Kubernetes added to the ADB&lt;/li&gt;
&lt;li&gt;Client binary installation support for OpenShift, Kubernetes and Docker in the Red Hat Container Development Kit&lt;/li&gt;
&lt;li&gt;Auto-detection of a previously downloaded &lt;code&gt;oc&lt;/code&gt; executable binary on Windows operating systems&lt;/li&gt;
&lt;li&gt;Unit and acceptance tests for the Kubernetes service&lt;/li&gt;
&lt;li&gt;Option to enable Kubernetes from a Vagrantfile  with the following command:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;  config.servicemanager.services = 'kubernetes'
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;1. Install the kubernetes client binary&lt;/h3&gt;

&lt;h4&gt;Run the following command to install the kubernetes binary, &lt;code&gt;kubectl&lt;/code&gt;&lt;/h4&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ vagrant service-manager install-cli kubernetes
# Binary now available at /home/budhram/.vagrant.d/data/service-manager/bin/kubernetes/1.2.0/kubectl
# run binary as:
# kubectl &amp;lt;command&amp;gt;
export PATH=/home/budhram/.vagrant.d/data/service-manager/bin/kubernetes/1.2.0:$PATH

# run following command to configure your shell:
# eval "$(VAGRANT_NO_COLOR=1 vagrant service-manager install-cli kubernetes | tr -d '\r')"

&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;Run the following command to configure your shell&lt;/h4&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ eval "$(VAGRANT_NO_COLOR=1 vagrant service-manager install-cli kubernetes | tr -d '\r')"
&lt;/code&gt;&lt;/pre&gt;

&lt;h3&gt;2. Enable access to the kubernetes server that runs inside of the ADB&lt;/h3&gt;

&lt;h4&gt;Run the following command to display environment variable for kubernetes&lt;/h4&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ vagrant service-manager env kubernetes
# Set the following environment variables to enable access to the
# kubernetes server running inside of the vagrant virtual machine:
export KUBECONFIG=/home/budhram/.vagrant.d/data/service-manager/kubeconfig

# run following command to configure your shell:
# eval "$(vagrant service-manager env kubernetes)"
&lt;/code&gt;&lt;/pre&gt;

&lt;h4&gt;Run the following command to configure your shell&lt;/h4&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;eval "$(vagrant service-manager env kubernetes)"
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;For a full list of changes in version 1.3.0, see &lt;a href="https://github.com/projectatomic/vagrant-service-manager/releases/tag/v1.3.0"&gt;the release log&lt;/a&gt;.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Using Kubernetes with ADB (Atomic Developer Bundle)</title>
    <link rel="alternate" href="http://www.projectatomic.io/blog/2016/04/k8s-adb-usage/"/>
    <id>http://www.projectatomic.io/blog/2016/04/k8s-adb-usage/</id>
    <published>2016-04-27T14:30:00+00:00</published>
    <updated>2021-10-07T14:03:16+00:00</updated>
    <author>
      <name>Suraj Deshmukh</name>
    </author>
    <content type="html">&lt;p&gt;The easiest way to get started with &lt;a href="http://kubernetes.io/docs/whatisk8s/"&gt;Kubernetes&lt;/a&gt; is to start using the &lt;a href="https://www.vagrantup.com/docs/boxes.html"&gt;Vagrant Box&lt;/a&gt; provided under &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle#what-is-the-atomic-developer-bundle-adb"&gt;ADB (Atomic Developer Bundle)&lt;/a&gt;. All you need to do to get started is have Vagrant installed and &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/blob/master/components/centos/centos-k8s-singlenode-setup/Vagrantfile"&gt;Vagrantfile&lt;/a&gt;, which configures the Kubernetes on the Vagrant box.&lt;/p&gt;

&lt;p&gt;Make sure you have basic setup ready. For that follow these &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/blob/master/docs/installing.rst"&gt;installation instructions&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;p&gt;Now all you need to do is clone the repository that has Vagrantfile and start the Vagrantbox:&lt;/p&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;&lt;span class="gp"&gt;$ &lt;/span&gt;git clone https://github.com/projectatomic/adb-atomic-developer-bundle.git
&lt;span class="gp"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd &lt;/span&gt;adb-atomic-developer-bundle/components/centos/centos-k8s-singlenode-setup/
&lt;span class="gp"&gt;$ &lt;/span&gt;vagrant up --provider libvirt
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You can also choose &lt;code&gt;provider&lt;/code&gt; as &lt;code&gt;virtualbox&lt;/code&gt; with the command &lt;code&gt;vagrant up --provider virtualbox&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;This will start the box. But, if the box is not available, then Vagrant will download it for you. Once the box is up and running, ssh into the box and you will have a running Kubernetes all-in-one cluster. This cluster is set up as a Kubernetes Master and Kubernetes Node running on the same host.&lt;/p&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;vagrant ssh
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;When you are in the machine, try using Kubernetes with &lt;code&gt;kubectl&lt;/code&gt; commands. If you are already familiar with Kubernetes, you can skip the following steps and test if the cluster has everything you need. For someone new to Kubernetes, keep following along here.&lt;/p&gt;

&lt;p&gt;To test to see if Kubernetes is working, let&amp;rsquo;s create a pod. For that create a file named &lt;code&gt;pod.json&lt;/code&gt; with the following data:&lt;/p&gt;
&lt;pre class="highlight json"&gt;&lt;code&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;cat&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;pod.json&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
    &lt;/span&gt;&lt;span class="s2"&gt;"apiVersion"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"v1"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
    &lt;/span&gt;&lt;span class="s2"&gt;"kind"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Pod"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
    &lt;/span&gt;&lt;span class="s2"&gt;"metadata"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
        &lt;/span&gt;&lt;span class="s2"&gt;"labels"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
            &lt;/span&gt;&lt;span class="s2"&gt;"app"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"apache-centos7"&lt;/span&gt;&lt;span class="w"&gt;
        &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt;
        &lt;/span&gt;&lt;span class="s2"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"apache-centos7"&lt;/span&gt;&lt;span class="w"&gt;
    &lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;&lt;span class="w"&gt;
    &lt;/span&gt;&lt;span class="s2"&gt;"spec"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
        &lt;/span&gt;&lt;span class="s2"&gt;"containers"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="w"&gt;
            &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
                &lt;/span&gt;&lt;span class="s2"&gt;"image"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"centos/httpd"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
                &lt;/span&gt;&lt;span class="s2"&gt;"name"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"apache-centos7"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
                &lt;/span&gt;&lt;span class="s2"&gt;"ports"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="w"&gt;
                    &lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="w"&gt;
                        &lt;/span&gt;&lt;span class="s2"&gt;"containerPort"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
                        &lt;/span&gt;&lt;span class="s2"&gt;"hostPort"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="mi"&gt;80&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="w"&gt;
                        &lt;/span&gt;&lt;span class="s2"&gt;"protocol"&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"TCP"&lt;/span&gt;&lt;span class="w"&gt;
                    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
                &lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
            &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
        &lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="w"&gt;
    &lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="w"&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;To create a pod running on Kubernetes out of this file, use&lt;/p&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;kubectl create -f pod.json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;See if the pod is running by entering&lt;/p&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;kubectl get pods
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You may see a pod named &lt;code&gt;apache-centos7&lt;/code&gt; there, but the &lt;code&gt;STATUS&lt;/code&gt; might be &lt;code&gt;Pending&lt;/code&gt; so wait for a while and keep checking the output. Once it&amp;rsquo;s changed to &lt;code&gt;Running&lt;/code&gt; we can test if its running, but first we will need the IP address of the pod. To get the IP:&lt;/p&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;kubectl describe pod apache-centos7 | grep &lt;span class="s1"&gt;'IP:'&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Note the IP and curl on it&lt;/p&gt;
&lt;pre class="highlight shell"&gt;&lt;code&gt;curl IP_ADDRESS_OBTAINED
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Unless you get any errors, the pod is running, which also signifies Kubernetes cluster is running. Now you can explore more options in Kubernetes on your own.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>Developing with Mesos-Marathon provider on Atomic Developer Bundle (ADB)</title>
    <link rel="alternate" href="http://www.projectatomic.io/blog/2016/04/developing-with-mesos-marathon/"/>
    <id>http://www.projectatomic.io/blog/2016/04/developing-with-mesos-marathon/</id>
    <published>2016-04-07T00:00:00+00:00</published>
    <updated>2021-10-07T14:03:16+00:00</updated>
    <author>
      <name>Dharmit Shah</name>
    </author>
    <content type="html">&lt;p&gt;Since the 1.6.0 release, the &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle"&gt;Atomic Developer Bundle
(ADB)&lt;/a&gt;
includes support for Mesos-Marathon as an orchestrator. This is in conjunction
with the support for Mesos-Marathon that was added to
&lt;a href="https://github.com/projectatomic/atomicapp"&gt;Atomic App&lt;/a&gt; 0.3.0. This feature
supports developers choosing to work with atomicapps on Mesos-Marathon.&lt;/p&gt;

&lt;p&gt;Mesos Marathon is a distributed control system which can be used for container
orchestration in large server clusters.  Some Docker-based infrastructure teams
use Mesos instead of Kubernetes. Learn more here:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href="http://mesos.apache.org/"&gt;Mesos&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mesosphere.github.io/marathon/"&gt;Marathon&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;/p&gt;

&lt;h3&gt;Starting the Vagrant box&lt;/h3&gt;

&lt;p&gt;A &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/blob/master/components/centos/centos-mesos-marathon-singlenode-setup/Vagrantfile"&gt;Vagrantfile&lt;/a&gt;
has been created that will use the ADB and provision it with a fully setup and
configured single node Mesos-Marathon installation.&lt;/p&gt;

&lt;p&gt;One can either clone the ADB repo to use this setup or download only the
Vagrantfile and Ansible playbook. To avoid any errors, it&amp;rsquo;d be best to clone
the repo and spin up the vagrant box:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ git clone https://github.com/projectatomic/adb-atomic-developer-bundle/
$ cd adb-atomic-developer-bundle/components/centos/centos-mesos-marathon-singlenode-setup/
$ vagrant up
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If you need help with setting up Vagrant or a virtualization provider, refer
&lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/blob/master/docs/installing.rst"&gt;this
document&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Note that when you do &lt;code&gt;vagrant up&lt;/code&gt;, the &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/blob/master/components/centos/centos-mesos-marathon-singlenode-setup/provisioning/playbook.yml"&gt;Ansible
playbook&lt;/a&gt;,
used to do the provisioning, downloads certain packages from the Internet.
Hence, the time for box to get ready for use is directly dependent on your
Internet connection. It pulls around 130 MB from the Internet.&lt;/p&gt;

&lt;h3&gt;Developing on the box&lt;/h3&gt;

&lt;p&gt;This section focuses on running containerized applications in the newly created
Mesos-Marathon box with the help of
&lt;a href="http://www.projectatomic.io/docs/atomicapp/"&gt;Atomic App&lt;/a&gt;.&lt;/p&gt;

&lt;h4&gt;Install Atomic App&lt;/h4&gt;

&lt;p&gt;Since the current ADB release doesn&amp;rsquo;t have the latest version of Atomic App, we
want to install it. The Atomic App &lt;a href="https://github.com/projectatomic/atomicapp#installing-atomic-app"&gt;installation
section&lt;/a&gt; on
its GitHub repo explains how to install the current release.&lt;/p&gt;

&lt;h4&gt;Setup Mesos-DNS&lt;/h4&gt;

&lt;p&gt;In this example, I am using Mesos-DNS as a service discovery mechanism for
Mesos. However, you can use any tool of your choice and code your application
accordingly.&lt;/p&gt;

&lt;p&gt;To setup Mesos-DNS, download the binary from its
&lt;a href="https://github.com/mesosphere/mesos-dns/releases"&gt;releases&lt;/a&gt; page. Copy it to a
location in the &lt;code&gt;$PATH&lt;/code&gt; variable or modify the &lt;code&gt;$PATH&lt;/code&gt; variable - whatever is
convenient to you. I copied to /usr/bin/:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ sudo yum -y install wget bind-utils    # we'll need bind-utils for dig
$ wget https://github.com/mesosphere/mesos-dns/releases/download/v0.5.1/mesos-dns-v0.5.1-linux-amd64
$ sudo mv mesos-dns-v0.5.1-linux-amd64 /usr/bin/mesos-dns
$ sudo chmod +x /usr/bin/mesos-dns
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Create a directory under &lt;code&gt;/etc&lt;/code&gt; to store configuartion for Mesos-DNS. And create
a file &lt;code&gt;config.json&lt;/code&gt; under it with contents like below:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ sudo mkdir /etc/mesos-dns
$ cat /etc/mesos-dns/config.json
{
    "zk": "zk://10.0.2.2:2181/mesos",
    "refreshSeconds": 60,
    "ttl": 60,
    "domain": "mesos",
    "port": 53,
    "resolvers": ["8.8.8.8"],
    "timeout": 5,
    "listener": "10.2.2.2",
    "httpon": true,
    "httpport": 8123

}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Replace 10.0.2.2 in above output to the IP of your vagrant box. This IP is of
the system on which ZooKeeper is running.&lt;/p&gt;

&lt;p&gt;Next, start Mesos-DNS from the command line or using Marathon. Mesos-DNS
documentation suggests to use Marathon as it&amp;rsquo;ll ensure that the Mesos-DNS
service is restarted in event of any failure. I prefer checking from the
command line before deploying it using Marathon.&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ sudo mesos-dns -config=/etc/mesos-dns/config.json
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;If Mesos-DNS was deployed successfully, you should be able to make DNS lookups
using it as your server. Make sure to edit your &lt;code&gt;/etc/resolv.conf&lt;/code&gt; to have the IP
of system running Mesos-DNS as the first entry for nameserver:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ cat /etc/resolv.conf
nameserver 10.2.2.2
nameserver 8.8.8.8
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Now you can perform DNS lookups:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ dig marathon.mesos
$ dig mesos-dns.marathon.mesos
$ dig master.mesos
$ dig slave.mesos
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;All of the above lookups will be answered by Mesos-DNS if the setup is correct.&lt;/p&gt;

&lt;h4&gt;Deploy a Flask + Redis based page visit counter app&lt;/h4&gt;

&lt;p&gt;This is an atomic app based on the Nulecule specification that creates a 2-tier
application based on Flask and Redis. Every time you access the web page, a
message is displayed which indicates the number of times the web page was
accessed. And this counter is incremented upon each access.&lt;/p&gt;

&lt;p&gt;To make this example work, make sure that Mesos-DNS is configured. The IP
address of the server hosting Mesos-DNS needs to be the first nameserver entry
in &lt;code&gt;/etc/resolv.conf&lt;/code&gt; file. This makes it the primary DNS server. Related
documentation &lt;a href="http://mesosphere.github.io/mesos-dns/docs/#slave-setup"&gt;link&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For the Redis container in this repo, go ahead and create a directory
&lt;code&gt;/opt/redis&lt;/code&gt; on the Vagrant box. This is for the sake of persistence. Also,
you need to apply below SELinux context to &lt;code&gt;/opt/redis&lt;/code&gt; on the host:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ sudo mkdir /opt/redis
$ sudo chcon -Rt svirt_sandbox_file_t /opt/redis
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;With that setup in place, you can simply do:&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ atomicapp run --provider=marathon dharmit/flask_redis
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Above command will download three Docker images:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Image containing information about our Nulecule&amp;#39;ized application&lt;/li&gt;
&lt;li&gt;Flask Docker image&lt;/li&gt;
&lt;li&gt;Redis Docker image&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The repository containing the code for this Flask application can be found on
this &lt;a href="https://github.com/dharmit/flask_redis_nulecule_app"&gt;link&lt;/a&gt;.&lt;/p&gt;

&lt;h4&gt;Checking the application&lt;/h4&gt;

&lt;p&gt;If all went well, Marathon web UI or &lt;code&gt;docker ps&lt;/code&gt; on the shell should give you
information about the port on the Vagrant box that&amp;rsquo;s mapped to the port 5000
inside the Flask container. In my case it was 31364.&lt;/p&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;$ curl localhost:31364
&amp;lt;div align=center&amp;gt;&amp;lt;img src='https://pbs.twimg.com/profile_images/458352291767013376/K9nN_rhH_400x400.png'&amp;gt;&amp;lt;h1&amp;gt;This page has been visited 1 times!&amp;lt;/h1&amp;gt;&amp;lt;br&amp;gt;&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Please share feedback about your experience with the process of setting up
Mesos-Marathon provider on ADB. You can do this by engaging with developrs on
&lt;code&gt;#nulecule&lt;/code&gt; IRC channel on Freenode or open an issue under &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle"&gt;ADB repo on
github&lt;/a&gt;.&lt;/p&gt;
</content>
  </entry>
  <entry>
    <title>ADB-Atomic Developer Bundle 1.7.1 Released</title>
    <link rel="alternate" href="http://www.projectatomic.io/blog/2016/03/ADB-1-7-1/"/>
    <id>http://www.projectatomic.io/blog/2016/03/ADB-1-7-1/</id>
    <published>2016-03-11T10:00:00+00:00</published>
    <updated>2021-10-07T14:03:16+00:00</updated>
    <author>
      <name>Lalatendu Mohanty</name>
    </author>
    <content type="html">&lt;p&gt;Project Atomic is pleased to announce the release of the Atomic Developer Bundle (ADB) 1.7.1, a Vagrant box that provides a ready-to-use development environment for container based applications. With the ADB, developers can dive right into producing complex, multi-container applications. The ADB is available for Microsoft Windows, Apple OS X, and Linux distributions.&lt;/p&gt;

&lt;p&gt;The 1.7.1 release is primarily a bug fix and enhancement release.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;The OpenShift experience in ADB has been enhanced to be more streamlined and to make version selection easier.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;sccli openshift&lt;/code&gt; will download OpenShift images and setup a single-node OpenShift instance.  &lt;a href="https://github.com/projectatomic/adb-utils/blob/master/README.rst"&gt;Documentation&lt;/a&gt; is available online.&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;sccli&lt;/code&gt; defaults to OpenShift Origin version 1.1.1.  This can be changed using environment variables as seen below.  For details, please see the &lt;a href="https://github.com/projectatomic/adb-utils/blob/master/README.rst"&gt;Documentation&lt;/a&gt;.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;pre class="highlight plaintext"&gt;&lt;code&gt;# Use the latest version of OpenShift Origin
$ sudo IMAGE_TAG="latest" sccli openshift
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;This release also includes many smaller changes and bug fixes, which are detailed in the release comments from  &lt;a href="https://github.com/projectatomic/adb-utils/releases/tag/v1.1"&gt;adb-utils&lt;/a&gt; and &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/releases/tag/v1.7.1"&gt;ADB&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Learn More and Download&lt;/h3&gt;

&lt;p&gt;The ADB provides a container development ecosystem that ensures developers are able to work with Linux containers even if their base operating system does not support it. It also offers a quick and easy way to setup multi-container applications that take advantage of management and/or orchestration  solutions, such as OpenShift or Kubernetes. The ADB supports &lt;a href="http://www.projectatomic.io/docs/nulecule/"&gt;Nulecule&lt;/a&gt; and &lt;a href="http://www.projectatomic.io/docs/atomicapp/"&gt;Atomic App&lt;/a&gt;. These projects provide a structure for packaging, distributing, and deploying multi-container applications.&lt;/p&gt;

&lt;p&gt;The ADB is built as part of Project Atomic, which integrates the tools and patterns of container-based application and service deployment with trusted operating system platforms to deliver an end-to-end hosting architecture that&amp;rsquo;s modern, reliable, and secure.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Read more about the Atomic Developer Bundle (ADB) at the project&amp;rsquo;s &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle"&gt;github.com page&lt;/a&gt;, including a quick start guide.&lt;/li&gt;
&lt;li&gt;The ADB can be &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/blob/master/docs/installing.rst#3-download-the-adb"&gt;downloaded in multiple ways&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle#documentation"&gt;Project Documentation&lt;/a&gt; and &lt;a href="https://github.com/projectatomic/adb-atomic-developer-bundle/blob/master/docs/installing.rst"&gt;Installation Guide&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Get more Project Atomic updates on Twitter &lt;a href="https://twitter.com/projectatomic"&gt;@ProjectAtomic&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
  </entry>
</feed>
